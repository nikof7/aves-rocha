"0","# Lista de matrices de presencia/ausencia (una por predio)"
"0","matrices_por_predio <- datos_long %>%"
"0","  group_by(predio, codigo_lista, especie) %>%"
"0","  summarise(presente = 1, .groups = ""drop"") %>%"
"0","  pivot_wider(names_from = codigo_lista, values_from = presente, values_fill = 0) %>%"
"0","  group_split(predio)"
"0",""
"0","# Asignar nombres de predio"
"0","nombres_predios <- unique(datos_long$predio)"
"0","names(matrices_por_predio) <- nombres_predios"
"0",""
"0","# Convertir a matrices"
"0","datos_inext <- lapply(matrices_por_predio, function(df) {"
"0","  as.matrix(df[,-1])  # remover columna especie"
"0","})"
